<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniProjeto</title>
</head>
<body>
    
    <script>

        let armazeProduto = [];

        function addProduto(){

            const nome = prompt("Digite o nome do produto:");
            const preco = prompt("Digite o preço do produto:");
            const desc = prompt("Digite a descrição do produto:");

            const addCatalog = confirm("Deseja adicionar o item ao catalogo?");

            if(addCatalog){
                const Produt = {
                nome:nome,
                preco:preco,
                desc:desc
            };

            armazeProduto.push(Produt);
            alert("Produto adicionado com sucesso!");

            }else{
                alert("Não adicionado >:")
            }

        }

        function buscProduto(){

            const nomeBusca = prompt("Digite o nome do produto:");
            let produEncontrado = false;
            
            for (let i = 0; i < armazeProduto.length; i++) {
                if (armazeProduto[i].nome === nomeBusca) {
                    alert(
                        "Nome: " + armazeProduto[i].nome + 
                        "\nPreço: " + armazeProduto[i].preco + 
                        "\nDescrição: " + armazeProduto[i].desc
                    );
                    produEncontrado = true;
                    break;
                }
            }
            
            if (produEncontrado === false) {
                alert("Produto não encontrado!");
            }
        }

        function atuProduto(){
            
            const nomeBuscatt = prompt("Digite o nome do produto:");
            let produattEncontrado = false;
            
            for (let i = 0; i < armazeProduto.length; i++) {
                if (armazeProduto[i].nome === nomeBuscatt) {
                    
                    const nomeAtt = prompt("Digite o nome atualizado do produto:");
                    const precoAtt = prompt("Digite o preço atualizado do produto:");
                    const descAtt = prompt("Digite a descrição atualizado do produto:");

                    armazeProduto[i].nome = nomeAtt;
                    armazeProduto[i].preco = precoAtt;
                    armazeProduto[i].desc = descAtt;

                    alert("Produto atualizado com sucesso!");

                    produattEncontrado = true;
                    break;
                }
            }
            
            if (produattEncontrado === false) {
                alert("Produto não encontrado!");
            }
        }

        function vizuProduto(){

            let vizuAll = [];
            
            for (let i = 0; i < armazeProduto.length; i++){
                vizuAll +=
                    "\nNome: " + armazeProduto[i].nome + 
                    "\nPreço: " + armazeProduto[i].preco + 
                    "\nDescrição: " + armazeProduto[i].desc + "\n";
            }

            alert(vizuAll)
        }
            

        function remoProduto(){

            const removNome = prompt("Digite o nome do produto que deseja remover: ");
            let removProd = -1;
            
            for (let i = 0; i < armazeProduto.length; i++) {
                if (armazeProduto[i].nome === removNome) {
                    removProd = i;
                    break;
                }
            }
            
            if(removProd !== -1){
                armazeProduto.splice(removProd, 1);
                alert("Produto removidoooooo!!!!!!!!!");
            }else{
                alert("Produte não encontrado!");
            }            
        }
    
        
        function exiTela(){
            while(true){
                const opcao = prompt('(1) Adicionar Produto \n(2) Buscar Produto \n(3) Atualizar Produto \n(4) Vizualizar todos os Produtos \n(5) Remover Produto \n(0) Sair')

                if(opcao == "1"){
                    addProduto()
                }else if(opcao == "2"){
                    buscProduto()
                }else if(opcao == "3"){
                    atuProduto()
                }else if(opcao == "4"){
                    vizuProduto()
                }else if(opcao == "5"){
                    remoProduto()
                }else if(opcao == "0"){
                    const sairPro = confirm("Deseja sair do programa?");
                    return;
                }else{
                    alert("Opção invalida!")
                    exiTela();
                }
            }
        }

        exiTela()
        
    </script>

</body>
</html>